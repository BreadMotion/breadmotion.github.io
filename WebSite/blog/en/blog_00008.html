<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Reevaluating Discord Bot Architecture | PanKUN Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Configuration notes for Discord Bot, adding commands/events like plugins" />
    <meta name="view-transition" content="same">

    <link rel="canonical" href="https://breadmotion.github.io/WebSite/blog/en/blog_00008.html" />
    <link rel="alternate" hreflang="ja" href="https://breadmotion.github.io/WebSite/blog/blog_00008.html" />
    <link rel="alternate" hreflang="en" href="https://breadmotion.github.io/WebSite/blog/en/blog_00008.html" />
    <link rel="alternate" hreflang="x-default" href="https://breadmotion.github.io/WebSite/blog/en/blog_00008.html" />
    <!-- Google AdSense -->
<script
    async
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5284984614496391"
    crossorigin="anonymous"
></script>

    <script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://breadmotion.github.io/WebSite/blog/en/blog_00008.html"
  },
  "headline": "Reevaluating Discord Bot Architecture",
  "description": "Configuration notes for Discord Bot, adding commands/events like plugins",
  "image": [
    "https://breadmotion.github.io/WebSite/assets/img/thumbnails/blog_00008.png"
  ],
  "datePublished": "2025-02-01T00:00:00.000Z",
  "dateModified": "2025-02-01T00:00:00.000Z",
  "author": {
    "@type": "Person",
    "name": "PanKUN",
    "url": "https://breadmotion.github.io/WebSite"
  },
  "publisher": {
    "@type": "Organization",
    "name": "PanKUN",
    "logo": {
      "@type": "ImageObject",
      "url": "https://breadmotion.github.io/WebSite/assets/img/favicon-192.png"
    }
  }
}</script>
    <meta property="og:title" content="Reevaluating Discord Bot Architecture | PanKUN Blog" />
    <meta property="og:description" content="Configuration notes for Discord Bot, adding commands/events like plugins" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://breadmotion.github.io/WebSite/blog/en/blog_00008.html" />
    <meta property="og:image" content="https://breadmotion.github.io/WebSite/assets/img/thumbnails/blog_00008.png" />
    <meta property="og:site_name" content="PanKUN" />
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="icon" type="image/png" href="../../assets/img/favicon-32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="../../assets/img/favicon-192.png" sizes="192x192">
    <link rel="apple-touch-icon" href="../../assets/img/favicon-192.png">
    <link rel="stylesheet" href="../../assets/css/base.css" />
    <link rel="stylesheet" href="../../assets/css/layout.css" />
    <link rel="stylesheet" href="../../assets/css/blog.css" />
    <link rel="stylesheet" href="../../assets/css/transition.css" />
  </head>
  <body data-page="blog">
    <div class="page-shell">
      <main class="main-container">
        <div class="post-layout">
          <div class="post-content">
            <article class="post-detail">
              <nav aria-label="breadcrumb" class="breadcrumb">
                <ol class="breadcrumb__list">
                  <li class="breadcrumb__item"><a href="../../index.html">Home</a></li>
                  <li class="breadcrumb__item"><a href="../../blog.html">Blog</a></li>
                  <li class="breadcrumb__item" aria-current="page">Reevaluating Discord Bot Architecture</li>
                </ol>
              </nav>
              <header class="post-detail__header">
                <p class="post-detail__meta">2025/02/01 / Discord</p>
                <h1 class="post-detail__title">Reevaluating Discord Bot Architecture</h1>
                <p class="post-detail__description">Configuration notes for Discord Bot, adding commands/events like plugins</p>
                <p class="post-detail__tags"><a class="tag" href="../../blog.html?tag=discord">discord</a> <a class="tag" href="../../blog.html?tag=nodejs">nodejs</a> <a class="tag" href="../../blog.html?tag=architecture">architecture</a> <a class="tag" href="../../blog.html?tag=plugin">plugin</a> <a class="tag" href="../../blog.html?tag=tool">tool</a></p>
                <div class="share-buttons">
    <p class="share-buttons__title">SHARE</p>
    <ul class="share-buttons__list">
      
        <li class="share-buttons__item">
          <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fbreadmotion.github.io%2FWebSite%2Fblog%2Fen%2Fblog_00008.html&text=Reevaluating%20Discord%20Bot%20Architecture" class="share-buttons__link share-buttons__link--twitter" target="_blank" rel="noopener noreferrer" aria-label="Twitter Share">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg>
          </a>
        </li>
      
        <li class="share-buttons__item">
          <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fbreadmotion.github.io%2FWebSite%2Fblog%2Fen%2Fblog_00008.html" class="share-buttons__link share-buttons__link--facebook" target="_blank" rel="noopener noreferrer" aria-label="Facebook Share">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M14 13.5h2.5l1-4H14v-2c0-1.03 0-2 2-2h1.5V2.14c-.326-.043-1.557-.14-2.857-.14C11.928 2 10 3.657 10 6.7v2.8H7v4h3V22h4z"></path></svg>
          </a>
        </li>
      
        <li class="share-buttons__item">
          <a href="https://social-plugins.line.me/lineit/share?url=https%3A%2F%2Fbreadmotion.github.io%2FWebSite%2Fblog%2Fen%2Fblog_00008.html" class="share-buttons__link share-buttons__link--line" target="_blank" rel="noopener noreferrer" aria-label="LINE Share">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M21.5,4.9C20.2,3.7,18.6,3,16.9,3c-3.7,0-6.8,2.8-7.2,6.4c-0.1,0.5-0.1,1-0.1,1.6c0,0-0.1,0.2-0.2,0.3c-0.3,0.3-0.7,0.2-1.2,0.1C7.8,11,7.4,10.8,7,10.7c-0.2-0.1-0.4-0.1-0.6-0.1c-0.3,0-0.6,0-0.8,0.1c-0.3,0.1-0.5,0.3-0.5,0.6c0,0.2,0.1,0.4,0.2,0.5c0.2,0.2,0.5,0.4,0.8,0.6c0.7,0.4,1.5,0.8,2.2,1.2c0.2,0.1,0.3,0.2,0.3,0.3c0,0.1,0,0.2-0.1,0.3C8.4,14.6,8,15,7.5,15.4c-0.2,0.2-0.4,0.3-0.5,0.5c-0.1,0.2-0.2,0.4-0.2,0.6c0,0.3,0.1,0.6,0.4,0.8C7.5,17.5,8,17.7,8.5,17.7c0.2,0,0.4-0.1,0.6-0.1c0.5-0.2,1-0.5,1.5-0.8c0.2-0.1,0.3-0.2,0.5-0.2c0.1,0,0.2,0,0.2,0.1c0.3,0.3,0.6,0.8,0.8,1.3c0.1,0.1,0.1,0.2,0.1,0.3c0,0.4-0.2,0.9-0.5,1.4c-0.1,0.2-0.2,0.3-0.2,0.5c0,0.2,0,0.4,0.1,0.5c0.1,0.2,0.3,0.3,0.5,0.4c0.2,0.1,0.5,0.1,0.7,0.1c0.6,0,1.2-0.2,1.7-0.6c0.1-0.1,0.2-0.2,0.3-0.2c0.1,0,0.2,0,0.3,0.1c0.7,0.5,1.5,0.8,2.4,0.8c3.7,0,6.8-2.8,7.2-6.4c0-0.1,0.1-0.2,0.1-0.4c0-0.1,0-0.2,0-0.3c0-0.1,0-0.1,0-0.2c0,0,0-0.1,0-0.1C22.2,9,22.2,8.9,22.2,8.8c0,0,0,0,0,0c0-0.2,0-0.4,0-0.6c-0.1-0.8-0.2-1.5-0.4-2.2C21.6,5.5,21.6,5.2,21.5,4.9z M16.9,4c1.5,0,2.9,0.6,3.9,1.6c0.1,0.1,0.1,0.2,0.1,0.3c0.3,0.7,0.5,1.4,0.5,2.2c0,0.2,0,0.3,0,0.5c0,0,0,0.1,0,0.1c0,0.1,0,0.1,0,0.2c0,0,0,0.1,0,0.1c0,0,0,0,0,0c0,0.1-0.1,0.2-0.1,0.3c-0.3,3.1-3.1,5.4-6.3,5.4c-0.8,0-1.6-0.2-2.3-0.6c-0.1-0.1-0.2-0.1-0.3-0.1c-0.1,0-0.3,0.1-0.4,0.2c-0.5,0.4-1.1,0.6-1.7,0.6c-0.1,0-0.2,0-0.3-0.1c-0.1,0-0.1-0.1-0.1-0.1c0-0.1,0.1-0.2,0.1-0.2c0.2-0.5,0.5-0.9,0.7-1.3c0.1-0.1,0.1-0.3,0.1-0.5c0-0.1-0.1-0.2-0.2-0.3c-0.2-0.2-0.5-0.5-0.8-0.8c-0.1-0.1-0.1-0.2-0.1-0.3c0-0.2,0.1-0.4,0.2-0.5c0.5-0.4,0.9-0.8,1.1-1.1c0.1-0.1,0.1-0.2,0.1-0.3c0-0.1-0.1-0.1-0.1-0.2c-0.7-0.4-1.4-0.8-2.1-1.1c-0.3-0.2-0.5-0.3-0.7-0.5c-0.1-0.1-0.2-0.2-0.2-0.3c0-0.1,0.1-0.2,0.1-0.2c0.1,0,0.2-0.1,0.3-0.1c0.2,0,0.5,0.1,0.6,0.1c0.4,0.1,0.9,0.4,1.2,0.5c0.5,0.2,0.9,0.2,1.2,0.1c0.1,0,0.1,0,0.2-0.1c0.3-3.1,3.1-5.4,6.3-5.4z M9.5,8.8C9.2,8.8,9,9,9,9.3v1.8c0,0.3,0.2,0.5,0.5,0.5h1.3c0.3,0,0.5-0.2,0.5-0.5V9.3c0-0.3-0.2-0.5-0.5-0.5H9.5z M14.8,8.8c-0.3,0-0.5,0.2-0.5,0.5v1.8c0,0.3,0.2,0.5,0.5,0.5h1.3c0.3,0,0.5-0.2,0.5-0.5V9.3c0-0.3-0.2-0.5-0.5-0.5H14.8z"></path></svg>
          </a>
        </li>
      
    </ul>
  </div>
              </header>
              <section class="post-detail__body markdown-body"><p>Hello, I&#39;m PanKUN.</p>
<p>In this article, I will summarize <strong>how I restructured the architecture of the Discord Bot</strong> I operate personally.</p>
<p>Roughly speaking, what I wanted to do was:</p>
<ul>
<li>Be able to extend commands and events by &quot;<strong>just adding files</strong>&quot;</li>
<li>Resident management with <code>pm2</code> on the server</li>
<li><strong>Semi-automatic deployment</strong> with <code>git pull</code> + shell script</li>
<li>Make it easy to link with &quot;Management Web Page&quot; and &quot;API&quot; in the future</li>
</ul>
<p>That is the configuration.</p>
<hr>
<h2 id="goals-and-prerequisites">Goals and Prerequisites</h2><h3 id="goals">Goals</h3><ol>
<li><strong>Separate Bot core and plugins</strong><ul>
<li>Treat commands and events as &quot;modules that can be added later&quot;.</li>
</ul>
</li>
<li><strong>Make operation easier</strong><ul>
<li>Leave it to <code>pm2</code> on Ubuntu Server and it keeps running even if SSH is disconnected.</li>
</ul>
</li>
<li><strong>Simplify deployment</strong><ul>
<li>Just push to the management repository -&gt; pull + restart on the server side.</li>
</ul>
</li>
</ol>
<h3 id="prerequisites">Prerequisites</h3><ul>
<li>Language: Node.js (Looking at TypeScript, currently mainly JS)</li>
<li>Library: discord.js</li>
<li>Execution environment: Ubuntu Server + pm2</li>
<li>External access: Possible to connect from outside by tunneling with playit.gg</li>
</ul>
<hr>
<h2 id="directory-structure">Directory Structure</h2><p>The configuration I finally settled on looks like this.</p>
<pre><code class="language-text">bot-root/
├── Command/        # Command modules
├── Event/          # Event handlers
├── Data/           # Settings and persistent data like JSON
├── Class/          # Common classes and helpers
├── Shell/          # Deployment shell scripts
├── types/          # Type related like JSDoc
├── logs/           # Log output destination for pm2
├── config.json     # Tokens and settings (dotenv is also acceptable)
└── index.js        # Entry point (Core)
</code></pre>
<p>The point is that I <strong>completely separated Command / Event / Data</strong>.</p>
<ul>
<li>index.js (core) &quot;just reads modules and wires them&quot;</li>
<li>The content of commands is handled by JS files under Command/</li>
<li>Events are handled by JS files under Event/
By doing this, I became able to <strong>add functions without touching the Bot body</strong>.</li>
</ul>
<h2 id="command-plugin-structure">Command Plugin Structure</h2><h3 id="shape-of-command-module">Shape of Command Module</h3><p>Each command has a JS file roughly in this shape as a single file.</p>
<pre><code class="language-js">// Command/ping.js
/** @type {import(&#39;../types&#39;).BotCommand} */
module.exports = {
  name: &quot;ping&quot;,
  description: &quot;Command for connection confirmation&quot;,
  options: [],
  async execute(interaction, context) {
    const start = Date.now();
    await interaction.reply(&quot;Pong!&quot;);
    const ms = Date.now() - start;
    console.log(`[ping] latency: ${ms}ms`);
  },
};
</code></pre>
<ul>
<li>name / description / options are diverted directly to slash command definitions</li>
<li>Pass interaction and common context (settings, logger, etc.) to execute</li>
</ul>
<h3 id="dynamic-loading">Dynamic Loading</h3><p>On the core side, it scans the Command/ directory at startup and loads everything.</p>
<p>What it does is simple:</p>
<ol>
<li>Get list of .js files with fs.readdirSync(&quot;Command&quot;)</li>
<li>require and register in Map with name as key</li>
<li>Assemble JSON for slash command registration
This is the flow.</li>
</ol>
<p>Thanks to this, when adding a new command:</p>
<ol>
<li>Create JS file in Command/</li>
<li>commit + push to Git</li>
<li>pull and restart on server
It only takes these steps now.</li>
</ol>
<h3 id="event-handler-structure">Event Handler Structure</h3><p>Events are also file-based with the same vibe as commands.</p>
<pre><code class="language-js">// Event/ready.js
/** @type {import(&#39;../types&#39;).BotEvent} */
module.exports = {
  name: &quot;ready&quot;,
  once: true,
  execute(client, context) {
    console.log(`[ready] Logged in as ${client.user.tag}`);
  },
};
</code></pre>
<pre><code class="language-js">// Event/interactionCreate.js
module.exports = {
  name: &quot;interactionCreate&quot;,
  once: false,
  async execute(interaction, context) {
    if (!interaction.isChatInputCommand()) return;

    const command = context.commands.get(interaction.commandName);
    if (!command) return;

    try {
      await command.execute(interaction, context);
    } catch (err) {
      console.error(err);
      if (!interaction.replied) {
        await interaction.reply({
          content: &quot;An error occurred.&quot;,
          ephemeral: true,
        });
      }
    }
  },
};
</code></pre>
<p>On the core side, it just scans Event/ and
<code>client.on(event.name, handler) or client.once(...)</code>
automatically registers it.</p>
<hr>
<h2 id="pm2-and-deployment-flow">pm2 and Deployment Flow</h2><h3 id="residing-with-pm2">Residing with pm2</h3><p>On Ubuntu Server, I keep it resident using pm2.</p>
<pre><code class="language-bash">pm2 start index.js --name bread-bot
pm2 save
pm2 startup
</code></pre>
<ul>
<li>Bot keeps running even if SSH is disconnected</li>
<li>Check logs with pm2 logs bread-bot</li>
<li>Reflect with pm2 restart bread-bot</li>
</ul>
<p>This is the basic operation.</p>
<h3 id="deployment-script">Deployment Script</h3><p>For deployment, I simply placed a single script in Shell/.</p>
<pre><code class="language-bash">#!/usr/bin/env bash
set -eu

cd /opt/bread-bot

echo &quot;[deploy] git pull&quot;
git pull origin main

echo &quot;[deploy] npm install&quot;
npm install --production

echo &quot;[deploy] restart pm2&quot;
pm2 restart bread-bot
</code></pre>
<ul>
<li>Update repository -&gt; Execute this script on server side</li>
<li>In the future, it might be good to trigger from Webhook or CI</li>
</ul>
<p>I&#39;m doing it in this form.</p>
<hr>
<h2 id="future-extensions">Future Extensions</h2><p>Even now, it has become &quot;a Bot where commands can be added with a single JS file&quot;, but here is what I want to do further.</p>
<ol>
<li><strong>Strengthening around types</strong></li>
</ol>
<ul>
<li>Convert to TypeScript or add types to interaction / context with JSDoc</li>
<li>Summarize ApplicationCommandOptionData into helper dedicated to definition</li>
</ul>
<ol start="2">
<li><strong>Linkage with management Web page</strong></li>
</ol>
<ul>
<li>Set up API with Express / Fastify etc.</li>
<li>Check &quot;List of currently registered commands&quot; and &quot;Guild status&quot; from Web</li>
</ul>
<ol start="3">
<li>Logs and metrics</li>
</ol>
<ul>
<li>Send errors and specific events to another channel</li>
<li>Consider sending to log infrastructure on Cloud</li>
</ul>
<hr>
<h2 id="summary">Summary</h2><ul>
<li>Split commands/events by directory unit, and make Bot body &quot;just read and connect&quot;</li>
<li>Simplify operation and deployment with pm2 and simple shell script</li>
<li>Pass common object called context to commands anticipating future extensions (Web management screen and API)</li>
</ul>
<p>By doing it in this form, I feel like I&#39;ve largely graduated from &quot;Discord Bot where everything is written in one huge index.js&quot;.</p>
<p>I hope this helps people who want to operate Bots for a long time in the same way.</p>
<hr>
</section>
              <div class="share-buttons">
    <p class="share-buttons__title">SHARE</p>
    <ul class="share-buttons__list">
      
        <li class="share-buttons__item">
          <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fbreadmotion.github.io%2FWebSite%2Fblog%2Fen%2Fblog_00008.html&text=Reevaluating%20Discord%20Bot%20Architecture" class="share-buttons__link share-buttons__link--twitter" target="_blank" rel="noopener noreferrer" aria-label="Twitter Share">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg>
          </a>
        </li>
      
        <li class="share-buttons__item">
          <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fbreadmotion.github.io%2FWebSite%2Fblog%2Fen%2Fblog_00008.html" class="share-buttons__link share-buttons__link--facebook" target="_blank" rel="noopener noreferrer" aria-label="Facebook Share">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M14 13.5h2.5l1-4H14v-2c0-1.03 0-2 2-2h1.5V2.14c-.326-.043-1.557-.14-2.857-.14C11.928 2 10 3.657 10 6.7v2.8H7v4h3V22h4z"></path></svg>
          </a>
        </li>
      
        <li class="share-buttons__item">
          <a href="https://social-plugins.line.me/lineit/share?url=https%3A%2F%2Fbreadmotion.github.io%2FWebSite%2Fblog%2Fen%2Fblog_00008.html" class="share-buttons__link share-buttons__link--line" target="_blank" rel="noopener noreferrer" aria-label="LINE Share">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M21.5,4.9C20.2,3.7,18.6,3,16.9,3c-3.7,0-6.8,2.8-7.2,6.4c-0.1,0.5-0.1,1-0.1,1.6c0,0-0.1,0.2-0.2,0.3c-0.3,0.3-0.7,0.2-1.2,0.1C7.8,11,7.4,10.8,7,10.7c-0.2-0.1-0.4-0.1-0.6-0.1c-0.3,0-0.6,0-0.8,0.1c-0.3,0.1-0.5,0.3-0.5,0.6c0,0.2,0.1,0.4,0.2,0.5c0.2,0.2,0.5,0.4,0.8,0.6c0.7,0.4,1.5,0.8,2.2,1.2c0.2,0.1,0.3,0.2,0.3,0.3c0,0.1,0,0.2-0.1,0.3C8.4,14.6,8,15,7.5,15.4c-0.2,0.2-0.4,0.3-0.5,0.5c-0.1,0.2-0.2,0.4-0.2,0.6c0,0.3,0.1,0.6,0.4,0.8C7.5,17.5,8,17.7,8.5,17.7c0.2,0,0.4-0.1,0.6-0.1c0.5-0.2,1-0.5,1.5-0.8c0.2-0.1,0.3-0.2,0.5-0.2c0.1,0,0.2,0,0.2,0.1c0.3,0.3,0.6,0.8,0.8,1.3c0.1,0.1,0.1,0.2,0.1,0.3c0,0.4-0.2,0.9-0.5,1.4c-0.1,0.2-0.2,0.3-0.2,0.5c0,0.2,0,0.4,0.1,0.5c0.1,0.2,0.3,0.3,0.5,0.4c0.2,0.1,0.5,0.1,0.7,0.1c0.6,0,1.2-0.2,1.7-0.6c0.1-0.1,0.2-0.2,0.3-0.2c0.1,0,0.2,0,0.3,0.1c0.7,0.5,1.5,0.8,2.4,0.8c3.7,0,6.8-2.8,7.2-6.4c0-0.1,0.1-0.2,0.1-0.4c0-0.1,0-0.2,0-0.3c0-0.1,0-0.1,0-0.2c0,0,0-0.1,0-0.1C22.2,9,22.2,8.9,22.2,8.8c0,0,0,0,0,0c0-0.2,0-0.4,0-0.6c-0.1-0.8-0.2-1.5-0.4-2.2C21.6,5.5,21.6,5.2,21.5,4.9z M16.9,4c1.5,0,2.9,0.6,3.9,1.6c0.1,0.1,0.1,0.2,0.1,0.3c0.3,0.7,0.5,1.4,0.5,2.2c0,0.2,0,0.3,0,0.5c0,0,0,0.1,0,0.1c0,0.1,0,0.1,0,0.2c0,0,0,0.1,0,0.1c0,0,0,0,0,0c0,0.1-0.1,0.2-0.1,0.3c-0.3,3.1-3.1,5.4-6.3,5.4c-0.8,0-1.6-0.2-2.3-0.6c-0.1-0.1-0.2-0.1-0.3-0.1c-0.1,0-0.3,0.1-0.4,0.2c-0.5,0.4-1.1,0.6-1.7,0.6c-0.1,0-0.2,0-0.3-0.1c-0.1,0-0.1-0.1-0.1-0.1c0-0.1,0.1-0.2,0.1-0.2c0.2-0.5,0.5-0.9,0.7-1.3c0.1-0.1,0.1-0.3,0.1-0.5c0-0.1-0.1-0.2-0.2-0.3c-0.2-0.2-0.5-0.5-0.8-0.8c-0.1-0.1-0.1-0.2-0.1-0.3c0-0.2,0.1-0.4,0.2-0.5c0.5-0.4,0.9-0.8,1.1-1.1c0.1-0.1,0.1-0.2,0.1-0.3c0-0.1-0.1-0.1-0.1-0.2c-0.7-0.4-1.4-0.8-2.1-1.1c-0.3-0.2-0.5-0.3-0.7-0.5c-0.1-0.1-0.2-0.2-0.2-0.3c0-0.1,0.1-0.2,0.1-0.2c0.1,0,0.2-0.1,0.3-0.1c0.2,0,0.5,0.1,0.6,0.1c0.4,0.1,0.9,0.4,1.2,0.5c0.5,0.2,0.9,0.2,1.2,0.1c0.1,0,0.1,0,0.2-0.1c0.3-3.1,3.1-5.4,6.3-5.4z M9.5,8.8C9.2,8.8,9,9,9,9.3v1.8c0,0.3,0.2,0.5,0.5,0.5h1.3c0.3,0,0.5-0.2,0.5-0.5V9.3c0-0.3-0.2-0.5-0.5-0.5H9.5z M14.8,8.8c-0.3,0-0.5,0.2-0.5,0.5v1.8c0,0.3,0.2,0.5,0.5,0.5h1.3c0.3,0,0.5-0.2,0.5-0.5V9.3c0-0.3-0.2-0.5-0.5-0.5H14.8z"></path></svg>
          </a>
        </li>
      
    </ul>
  </div>
              <div class="post-detail__nav post-detail__nav--bottom">
                <a href="../../blog.html" class="btn btn--back">← Back to Blog</a>
              </div>
            </article>
          </div>
          <aside class="post-sidebar">
            <div class="toc-sticky-container">
              <nav class="toc">
                <h2 class="toc__title">Table of Contents</h2>
                <ul class="toc-list"><li class="toc-item toc-item--level-2"><a href="#goals-and-prerequisites">Goals and Prerequisites</a></li><li class="toc-item toc-item--level-3"><a href="#goals">Goals</a></li><li class="toc-item toc-item--level-3"><a href="#prerequisites">Prerequisites</a></li><li class="toc-item toc-item--level-2"><a href="#directory-structure">Directory Structure</a></li><li class="toc-item toc-item--level-2"><a href="#command-plugin-structure">Command Plugin Structure</a></li><li class="toc-item toc-item--level-3"><a href="#shape-of-command-module">Shape of Command Module</a></li><li class="toc-item toc-item--level-3"><a href="#dynamic-loading">Dynamic Loading</a></li><li class="toc-item toc-item--level-3"><a href="#event-handler-structure">Event Handler Structure</a></li><li class="toc-item toc-item--level-2"><a href="#pm2-and-deployment-flow">pm2 and Deployment Flow</a></li><li class="toc-item toc-item--level-3"><a href="#residing-with-pm2">Residing with pm2</a></li><li class="toc-item toc-item--level-3"><a href="#deployment-script">Deployment Script</a></li><li class="toc-item toc-item--level-2"><a href="#future-extensions">Future Extensions</a></li><li class="toc-item toc-item--level-2"><a href="#summary">Summary</a></li></ul>
              </nav>
            </div>
          </aside>
        </div>
        <section class="section section--related">
          <h2 class="section__title">undefined</h2>
          <div id="relatedList" class="recommend-grid"></div>
        </section>
        <section class="section section--recommend">
          <h2 class="section__title">Recommended</h2>
          <div id="recommendList" class="recommend-grid"></div>
        </section>
      </main>
      <div class="toc-overlay"></div>
      <button type="button" class="toc-toggle" aria-label="Open Table of Contents">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20" aria-hidden="true"><path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"></path></svg>
        <span>TOC</span>
      </button>
    </div>
    <script src="../../assets/js/layout.js" defer></script>
    <script src="../../assets/js/ui.js"></script>
    <canvas id="menuAnimationCanvas"></canvas>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
    <script src="../../assets/js/particles.js"></script>
    <script src="../../assets/js/toc.js" defer></script>
    <script src="../../assets/js/recommend.js" defer></script>
    <script src="../../assets/js/transition.js"></script>
  </body>
</html>